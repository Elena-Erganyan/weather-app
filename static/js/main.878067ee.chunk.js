(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/preloader.c9fef649.svg"},19:function(e,t,a){e.exports=a(40)},24:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),s=a.n(c);a(24),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(2),i=a(7),u=a(17),l=a(8),m=a.n(l),h=a(13),d=a(14),p=a(1),E="51dc4b73f6265442f762bd5f8d70d15b",_="https://api.openweathermap.org/data/2.5/",f=function(e){return fetch("".concat(_,"weather?q=").concat(e,"&appid=").concat(E))},W=function(e){return fetch("".concat(_,"forecast?q=").concat(e,"&appid=").concat(E))},v=function(e){return fetch("".concat(_,"onecall?lat=").concat(e.lat,"&lon=").concat(e.lon,"&exclude=current,minutely,daily,alerts&appid=").concat(E))},y={city:null,error:!1,currentWeatherData:{},weekWeatherData:[],hourlyWeatherData:[],isModalActive:!1,isFetching:!1},D=function(e){return{type:"TOGGLE_IS_MODAL_ACTIVE",isModalActive:e}},g=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},N=function(e){return{type:"TOGGLE_ERROR",error:e}},w=function(e){return{type:"SET_CITY",city:e}},b=function(e){return{type:"SET_CURRENT_WEATHER_DATA",currentWeatherData:e}},O=function(e){return{type:"SET_WEEK_WEATHER_DATA",weekWeatherData:e}},T=function(e){return{type:"SET_HOURLY_WEATHER_DATA",hourlyWeatherData:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY":return Object(p.a)(Object(p.a)({},e),{},{city:t.city});case"SET_CURRENT_WEATHER_DATA":return Object(p.a)(Object(p.a)({},e),{},{currentWeatherData:Object(p.a)({},t.currentWeatherData)});case"SET_WEEK_WEATHER_DATA":return Object(p.a)(Object(p.a)({},e),{},{weekWeatherData:Object(d.a)(t.weekWeatherData)});case"SET_HOURLY_WEATHER_DATA":return Object(p.a)(Object(p.a)({},e),{},{hourlyWeatherData:Object(d.a)(t.hourlyWeatherData)});case"TOGGLE_IS_MODAL_ACTIVE":return Object(p.a)(Object(p.a)({},e),{},{isModalActive:t.isModalActive});case"TOGGLE_IS_FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});default:return e}},j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,k=Object(i.d)(A,j(Object(i.a)(u.a))),C=(a(32),a(33),function(e){var t=Math.round(e.temp-273.15),a=new Date(1e3*e.date).toLocaleString().slice(0,5),r=new Date(1e3*e.date).toLocaleTimeString().slice(0,5);return n.a.createElement("div",{className:"card hourlyCard"},n.a.createElement("div",{className:"card__date"},a),n.a.createElement("div",{className:"card__time"},r),n.a.createElement("div",{className:"card__icon"},n.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:"icon"})),n.a.createElement("div",{className:"card__temp"},t,"\xb0C"))}),S=(a(34),function(e){var t=e.hourlyWeatherData.map((function(e,t){return n.a.createElement(C,{key:t,date:e.dt,temp:e.temp,icon:e.weather[0].icon})}));return n.a.createElement("div",{className:"hourlyWeather"},t)}),M=(a(35),function(e){return document.addEventListener("keydown",(function(t){27===t.keyCode&&e.toggleIsModalActive(!1)})),n.a.createElement("div",{className:"overlay"},n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal__wrapper"},n.a.createElement("button",{className:"closeBtn",onClick:function(){e.toggleIsModalActive(!1)}},"Close"),n.a.createElement("div",{className:"modal__weather"},n.a.createElement(S,{hourlyWeatherData:e.hourlyWeatherData,toggleIsModalActive:e.toggleIsModalActive})))))}),x=a(3),I=a(4),R=a(6),L=a(5),H=(a(36),function(e){Object(R.a)(a,e);var t=Object(L.a)(a);function a(e){var r;return Object(x.a)(this,a),(r=t.call(this,e)).onChange=function(e){r.setState({city:e.currentTarget.value})},r.requestData=function(){r.props.setCity(r.state.city),r.props.requestWeatherData(r.state.city)},r.onClick=function(){r.requestData()},r.onKeyDown=function(e){13===e.keyCode&&r.requestData()},r.state={city:""},r}return Object(I.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"search"},n.a.createElement("input",{className:"search__field",type:"text",onChange:this.onChange,onKeyDown:this.onKeyDown}),n.a.createElement("button",{className:"btn search__btn",onClick:this.onClick},"Set city"))}}]),a}(n.a.Component)),q=function(e){Object(R.a)(a,e);var t=Object(L.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){return n.a.createElement(H,{setCity:this.props.setCity,requestWeatherData:this.props.requestWeatherData})}}]),a}(n.a.Component),G=Object(o.b)(null,(function(e){return{setCity:function(t){e(w(t))},requestWeatherData:function(t){e(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var r,n,c,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,f(e);case 3:return r=t.sent,t.next=6,W(e);case 6:if(n=t.sent,200!==r.status||200!==n.status){t.next=22;break}return t.next=10,r.json();case 10:return c=t.sent,a(b(c)),t.next=14,n.json();case 14:return s=t.sent,t.next=17,s.list.filter((function(e){return e.dt_txt.includes("12:00:00")}));case 17:o=t.sent,a(O(o)),a(N(!1)),t.next=27;break;case 22:a(w(null)),a(b({})),a(O([])),a(T([])),a(N(!0));case 27:a(g(!1));case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(q),F=a(18),V=a.n(F),U=function(){return n.a.createElement("div",{className:"preloader"},n.a.createElement("img",{src:V.a,alt:"Loading..."}))},K=(a(37),function(e){var t=(new Date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),a=Math.round(e.currentWeatherData.main.temp-273.15),r=Math.round(e.currentWeatherData.main.feels_like-273.15),c=Math.round(e.currentWeatherData.main.pressure/1.333),s=new Date(1e3*e.currentWeatherData.sys.sunrise).toLocaleTimeString().slice(0,5),o=new Date(1e3*e.currentWeatherData.sys.sunset).toLocaleTimeString().slice(0,5);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"currentWeather"},n.a.createElement("div",{className:"currentWeather__mainParameters"},n.a.createElement("div",{className:"currentWeather__city"},e.currentWeatherData.name,", ",e.currentWeatherData.sys.country),n.a.createElement("div",{className:"currentWeather__date"},t),n.a.createElement("div",{className:"currentWeather__icon"},n.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.currentWeatherData.weather[0].icon,"@2x.png"),alt:"weatherIcon"})),n.a.createElement("div",{className:"currentWeather__temp"},a,"\xb0C"),n.a.createElement("div",{className:"currentWeather__main"},e.currentWeatherData.weather[0].description)),n.a.createElement("div",{className:"currentWeather__otherParameters"},n.a.createElement("div",{className:"currentWeather__feelTemp"},n.a.createElement("span",{className:"parameterName"},"Real feel"),n.a.createElement("span",{className:"parameterValue"},r,"\xb0C")),n.a.createElement("div",{className:"currentWeather__pressure"},n.a.createElement("span",{className:"parameterName"},"Pressure"),n.a.createElement("span",{className:"parameterValue"},c," mmHg")),n.a.createElement("div",{className:"currentWeather__humidity"},n.a.createElement("span",{className:"parameterName"},"Humidity"),n.a.createElement("span",{className:"parameterValue"},e.currentWeatherData.main.humidity,"%")),n.a.createElement("div",{className:"currentWeather__wind"},n.a.createElement("span",{className:"parameterName"},"Wind"),n.a.createElement("span",{className:"parameterValue"},e.currentWeatherData.wind.speed,"mph")),n.a.createElement("div",{className:"currentWeather__sunrise"},n.a.createElement("span",{className:"parameterName"},"Sunrise"),n.a.createElement("span",{className:"parameterValue"},s)),n.a.createElement("div",{className:"currentWeather__sunset"},n.a.createElement("span",{className:"parameterName"},"Sunset"),n.a.createElement("span",{className:"parameterValue"},o)))),n.a.createElement("button",{className:"currentWeather__btn btn",onClick:function(){e.requestHourlyWeatherData(e.currentWeatherData.coord)}},"See 48 hours forecast"))}),P=(a(38),function(e){var t=Math.round(e.temp-273.15),a=new Date(1e3*e.date).toLocaleString().slice(0,5);return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card__date"},a),n.a.createElement("div",{className:"card__icon"},n.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:"icon"})),n.a.createElement("div",{className:"card__temp"},t,"\xb0C"))}),Y=(a(39),function(e){var t=e.weekWeatherData.map((function(e,t){return n.a.createElement(P,{key:t,date:e.dt,temp:e.main.temp,icon:e.weather[0].icon})}));return n.a.createElement("div",{className:"weekWeather"},t)}),B=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(K,{currentWeatherData:e.currentWeatherData,requestHourlyWeatherData:e.requestHourlyWeatherData}),n.a.createElement(Y,{weekWeatherData:e.weekWeatherData}))},J=function(e){Object(R.a)(a,e);var t=Object(L.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){return this.props.isFetching?n.a.createElement(U,null):n.a.createElement(B,{currentWeatherData:this.props.currentWeatherData,weekWeatherData:this.props.weekWeatherData,requestHourlyWeatherData:this.props.requestHourlyWeatherData})}}]),a}(n.a.Component),X=Object(o.b)((function(e){return{isFetching:e.isFetching,currentWeatherData:e.currentWeatherData,weekWeatherData:e.weekWeatherData}}),(function(e){return{requestHourlyWeatherData:function(t){e(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var r,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(D(!0)),t.next=3,v(e);case 3:if(200!==(r=t.sent).status){t.next=11;break}return t.next=7,r.json();case 7:n=t.sent,a(T(n.hourly)),t.next=12;break;case 11:alert("Some error ocurred: ".concat(r.status,": ").concat(r.statusText));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(J),$=function(e){return n.a.createElement("div",{className:"app"},n.a.createElement("h1",{className:"app__title"},"Weather App"),n.a.createElement(G,null),e.city&&!e.error&&n.a.createElement(X,null),e.error&&n.a.createElement("div",{className:"app__error"},"Sorry, the city was not found"),e.isModalActive&&n.a.createElement(M,{hourlyWeatherData:e.hourlyWeatherData,toggleIsModalActive:e.toggleIsModalActive}))},z=Object(o.b)((function(e){return{city:e.city,error:e.error,hourlyWeatherData:e.hourlyWeatherData,isModalActive:e.isModalActive}}),(function(e){return{toggleIsModalActive:function(t){e(D(t))}}}))((function(e){return n.a.createElement($,{city:e.city,error:e.error,hourlyWeatherData:e.hourlyWeatherData,isModalActive:e.isModalActive,toggleIsModalActive:e.toggleIsModalActive})}));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:k},n.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.878067ee.chunk.js.map